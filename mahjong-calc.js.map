{"version":3,"file":"mahjong-calc.js","sourceRoot":"","sources":["src/mahjong-calc.ts"],"names":[],"mappings":"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","sourcesContent":["import {LitElement, html, css} from 'lit';\nimport {query} from 'lit/decorators.js';\nimport {customElement} from 'lit/decorators.js';\nimport '@material/web/textfield/outlined-text-field.js';\nimport '@material/web/textfield/filled-text-field.js';\nimport '@material/web/select/outlined-select.js';\nimport '@material/web/select/select-option.js';\nimport '@material/web/button/filled-tonal-button.js';\nimport '@material/web/button/filled-button.js';\nimport '@material/web/progress/circular-progress.js';\nimport '@patternfly/elements/pf-accordion/pf-accordion.js';\nimport {db} from './firestore';\nimport {collection, addDoc} from 'firebase/firestore/lite';\n\n@customElement('mahjong-calc')\nexport class MahjongCalc extends LitElement {\n  static override styles = [\n    css`\n      .width-50 {\n        width: calc(50% - 1rem);\n        margin-bottom: 0.5em;\n      }\n      .width-30 {\n        width: 30%;\n        margin-bottom: 0.5em;\n      }\n      .results {\n        margin-top: 2em;\n        margin-left: 1em;\n      }\n      .controle {\n        margin-top: 1em;\n      }\n      md-outlined-text-field {\n        --md-outlined-field-disabled-content-opacity: 1;\n      }\n    `,\n  ];\n\n  override render() {\n    return html`\n      <h1>点数計算</h1>\n\n      <md-outlined-select required id=\"gameType\" @change=\"${this._changeGame}\">\n        <md-select-option selected value=\"四麻\">\n          <div slot=\"headline\">四麻</div>\n        </md-select-option>\n        <md-select-option value=\"三麻\">\n          <div slot=\"headline\">三麻</div>\n        </md-select-option>\n      </md-outlined-select>\n\n      <pf-accordion>\n        <pf-accordion-header>\n          <h2>設定</h2>\n        </pf-accordion-header>\n        <pf-accordion-panel>\n          <div>\n            <md-outlined-text-field\n              id=\"initialPoint\"\n              class=\"width-50\"\n              label=\"初期点\"\n              value=\"25000\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"oka\"\n              class=\"width-50\"\n              label=\"オカ\"\n              value=\"30000\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n          </div>\n          <div>\n            <md-outlined-text-field\n              id=\"firstUma\"\n              class=\"width-50\"\n              label=\"1着\"\n              value=\"50\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"secondUma\"\n              class=\"width-50\"\n              label=\"2着\"\n              value=\"10\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"thirdUma\"\n              class=\"width-50\"\n              label=\"3着\"\n              value=\"-10\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"fourthUma\"\n              class=\"width-50\"\n              label=\"4着\"\n              value=\"-30\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n          </div>\n        </pf-accordion-panel>\n      </pf-accordion>\n      <div class=\"results\">\n        <h2>結果</h2>\n        <pf-accordion>\n          <pf-accordion-header>\n            <h2>日付、順序キー</h2>\n          </pf-accordion-header>\n          <pf-accordion-panel>\n            <md-filled-text-field\n              id=\"date\"\n              label=\"日付\"\n              class=\"width-50\"\n              type=\"date\"\n              value=\"${new Date().toISOString().split('T')[0]}\"\n            >\n            </md-filled-text-field>\n            <md-filled-text-field\n              id=\"order\"\n              label=\"順序キー\"\n              class=\"width-50\"\n              type=\"text\"\n              value=\"${new Date().getTime()}\"\n            >\n            </md-filled-text-field>\n          </pf-accordion-panel>\n        </pf-accordion>\n        <div>\n          <md-outlined-text-field\n            id=\"firstPlayer\"\n            label=\"1位\"\n            class=\"width-30\"\n            type=\"text\"\n          >\n          </md-outlined-text-field>\n          <md-outlined-text-field\n            id=\"firstScore\"\n            label=\"得点\"\n            class=\"width-30\"\n            type=\"number\"\n            @blur=\"${this._calcFirstPoint}\"\n          >\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field\n            id=\"firstPoint\"\n            label=\"ポイント\"\n            class=\"width-30\"\n            type=\"number\"\n            disabled\n          >\n          </md-outlined-text-field>\n        </div>\n        <div>\n          <md-outlined-text-field\n            id=\"secondPlayer\"\n            label=\"2位\"\n            class=\"width-30\"\n            type=\"text\"\n          >\n          </md-outlined-text-field>\n          <md-outlined-text-field\n            id=\"secondScore\"\n            label=\"得点\"\n            class=\"width-30\"\n            type=\"number\"\n            @blur=\"${this._calcSecondPoint}\"\n          >\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field\n            id=\"secondPoint\"\n            label=\"ポイント\"\n            class=\"width-30\"\n            type=\"number\"\n            disabled\n          >\n          </md-outlined-text-field>\n        </div>\n        <div>\n          <md-outlined-text-field\n            id=\"thirdPlayer\"\n            label=\"3位\"\n            class=\"width-30\"\n            type=\"text\"\n          >\n          </md-outlined-text-field>\n          <md-outlined-text-field\n            id=\"thirdScore\"\n            label=\"得点\"\n            class=\"width-30\"\n            type=\"number\"\n            @blur=\"${this._calcThirdPoint}\"\n          >\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field\n            id=\"thirdPoint\"\n            label=\"ポイント\"\n            class=\"width-30\"\n            type=\"number\"\n            disabled\n          >\n          </md-outlined-text-field>\n        </div>\n        <div>\n          <md-outlined-text-field\n            id=\"fourthPlayer\"\n            label=\"4位\"\n            class=\"width-30\"\n            type=\"text\"\n          >\n          </md-outlined-text-field>\n          <md-outlined-text-field\n            id=\"fourthScore\"\n            label=\"得点\"\n            class=\"width-30\"\n            type=\"number\"\n            @blur=\"${this._calcFourthPoint}\"\n          >\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field\n            id=\"fourthPoint\"\n            label=\"ポイント\"\n            class=\"width-30\"\n            type=\"number\"\n            disabled\n          >\n          </md-outlined-text-field>\n        </div>\n\n        <pf-accordion>\n          <pf-accordion-header>\n            <h2>チョンボ</h2>\n          </pf-accordion-header>\n          <pf-accordion-panel>\n            <div>\n              <md-outlined-text-field\n                id=\"chonboPlayer1\"\n                label=\"プレイヤー\"\n                class=\"width-50\"\n                type=\"text\"\n              >\n              </md-outlined-text-field>\n              <md-outlined-text-field\n                id=\"chonboPoint1\"\n                label=\"罰符\"\n                class=\"width-30\"\n                type=\"number\"\n                value=\"-20\"\n              >\n              </md-outlined-text-field>\n            </div>\n            <div>\n              <md-outlined-text-field\n                id=\"chonboPlayer2\"\n                label=\"プレイヤー\"\n                class=\"width-50\"\n                type=\"text\"\n              >\n              </md-outlined-text-field>\n              <md-outlined-text-field\n                id=\"chonboPoint2\"\n                label=\"罰符\"\n                class=\"width-30\"\n                type=\"number\"\n                value=\"-20\"\n              >\n              </md-outlined-text-field>\n            </div>\n            <div>\n              <md-outlined-text-field\n                id=\"chonboPlayer3\"\n                label=\"プレイヤー\"\n                class=\"width-50\"\n                type=\"text\"\n              >\n              </md-outlined-text-field>\n              <md-outlined-text-field\n                id=\"chonboPoint3\"\n                label=\"罰符\"\n                class=\"width-30\"\n                type=\"number\"\n                value=\"-20\"\n              >\n              </md-outlined-text-field>\n            </div>\n            <div>\n              <md-outlined-text-field\n                id=\"chonboPlayer4\"\n                label=\"プレイヤー\"\n                class=\"width-50\"\n                type=\"text\"\n              >\n              </md-outlined-text-field>\n              <md-outlined-text-field\n                id=\"chonboPoint4\"\n                label=\"罰符\"\n                class=\"width-30\"\n                type=\"number\"\n                value=\"-20\"\n              >\n              </md-outlined-text-field>\n            </div>\n          </pf-accordion-panel>\n        </pf-accordion>\n\n        <div class=\"controle\">\n          <md-filled-tonal-button @click=\"${this._resetResults}\"\n            >リセット</md-filled-tonal-button\n          >\n          <md-filled-button @click=\"${this._uploadResults}\"\n            >登録</md-filled-button\n          >\n          <md-circular-progress\n            indeterminate\n            id=\"progress\"\n            style=\"display: none\"\n          ></md-circular-progress>\n        </div>\n      </div>\n    `;\n  }\n\n  @query('#gameType')\n  _gameType!: HTMLSelectElement;\n\n  @query('#initialPoint')\n  _initialPoint!: HTMLInputElement;\n  @query('#oka')\n  _oka!: HTMLInputElement;\n  @query('#firstUma')\n  _firstUma!: HTMLInputElement;\n  @query('#secondUma')\n  _secondUma!: HTMLInputElement;\n  @query('#thirdUma')\n  _thirdUma!: HTMLInputElement;\n  @query('#fourthUma')\n  _fourthUma!: HTMLInputElement;\n\n  @query('#date')\n  _date!: HTMLInputElement;\n  @query('#order')\n  _order!: HTMLInputElement;\n\n  @query('#firstPlayer')\n  _firstPlayer!: HTMLInputElement;\n  @query('#secondPlayer')\n  _secondPlayer!: HTMLInputElement;\n  @query('#thirdPlayer')\n  _thirdPlayer!: HTMLInputElement;\n  @query('#fourthPlayer')\n  _fourthPlayer!: HTMLInputElement;\n\n  @query('#firstScore')\n  _firstScore!: HTMLInputElement;\n  @query('#secondScore')\n  _secondScore!: HTMLInputElement;\n  @query('#thirdScore')\n  _thirdScore!: HTMLInputElement;\n  @query('#fourthScore')\n  _fourthScore!: HTMLInputElement;\n\n  @query('#firstPoint')\n  _firstPoint!: HTMLInputElement;\n  @query('#secondPoint')\n  _secondPoint!: HTMLInputElement;\n  @query('#thirdPoint')\n  _thirdPoint!: HTMLInputElement;\n  @query('#fourthPoint')\n  _fourthPoint!: HTMLInputElement;\n\n  @query('#chonboPlayer1')\n  _chonboPlayer1!: HTMLInputElement;\n  @query('#chonboPoint1')\n  _chonboPoint1!: HTMLInputElement;\n  @query('#chonboPlayer2')\n  _chonboPlayer2!: HTMLInputElement;\n  @query('#chonboPoint2')\n  _chonboPoint2!: HTMLInputElement;\n  @query('#chonboPlayer3')\n  _chonboPlayer3!: HTMLInputElement;\n  @query('#chonboPoint3')\n  _chonboPoint3!: HTMLInputElement;\n  @query('#chonboPlayer4')\n  _chonboPlayer4!: HTMLInputElement;\n  @query('#chonboPoint4')\n  _chonboPoint4!: HTMLInputElement;\n\n  @query('#progress')\n  _progress!: HTMLElement;\n\n  private _calcFirstPoint() {\n    if (this._firstScore.value === '') {\n      return;\n    }\n    this._firstPoint.value = String(\n      (Number(this._firstScore.value) - Number(this._oka.value)) / 1000 +\n        Number(this._firstUma.value)\n    );\n  }\n  private _calcSecondPoint() {\n    if (this._secondScore.value === '') {\n      return;\n    }\n    this._secondPoint.value = String(\n      (Number(this._secondScore.value) - Number(this._oka.value)) / 1000 +\n        Number(this._secondUma.value)\n    );\n  }\n  private _calcThirdPoint() {\n    if (this._thirdScore.value === '') {\n      return;\n    }\n    this._thirdPoint.value = String(\n      (Number(this._thirdScore.value) - Number(this._oka.value)) / 1000 +\n        Number(this._thirdUma.value)\n    );\n  }\n  private _calcFourthPoint() {\n    if (this._fourthScore.value === '') {\n      return;\n    }\n    this._fourthPoint.value = String(\n      (Number(this._fourthScore.value) - Number(this._oka.value)) / 1000 +\n        Number(this._fourthUma.value)\n    );\n  }\n\n  private _changeGame() {\n    if (this._gameType.value === '三麻') {\n      this._changeSettings('35000', '35000', '15', '0', '-15', '0', true);\n    } else {\n      this._changeSettings('25000', '30000', '50', '10', '-10', '-30', false);\n    }\n    this._resetResults();\n  }\n\n  private _changeSettings(\n    initialPoint: string,\n    oka: string,\n    firstUma: string,\n    secondUma: string,\n    thirdUma: string,\n    fourthUma: string,\n    noFourth: boolean\n  ) {\n    (\n      this.shadowRoot?.getElementById('initialPoint') as HTMLInputElement\n    ).value = initialPoint;\n    this._oka.value = oka;\n    this._firstUma.value = firstUma;\n    this._secondUma.value = secondUma;\n    this._thirdUma.value = thirdUma;\n    this._fourthUma.value = fourthUma;\n    if (!noFourth) {\n      this._clearFourth();\n    }\n    this._toggleFourth(noFourth);\n  }\n\n  private _clearFourth() {\n    this._fourthPlayer.value = '';\n    this._fourthScore.value = '';\n    this._fourthPoint.value = '';\n  }\n\n  private _toggleFourth(noFourth: boolean) {\n    this._fourthUma.disabled = noFourth;\n    this._fourthPlayer.disabled = noFourth;\n    this._fourthScore.disabled = noFourth;\n  }\n\n  private _resetResults() {\n    this._firstPlayer.value = '';\n    this._secondPlayer.value = '';\n    this._thirdPlayer.value = '';\n    this._fourthPlayer.value = '';\n    this._firstScore.value = '';\n    this._secondScore.value = '';\n    this._thirdScore.value = '';\n    this._fourthScore.value = '';\n    this._firstPoint.value = '';\n    this._secondPoint.value = '';\n    this._thirdPoint.value = '';\n    this._fourthPoint.value = '';\n  }\n\n  private async _uploadResults() {\n    this._progress.style.display = 'block';\n    let players: string[];\n    let results: Result[];\n    const chonbo: Chonbo[] = [];\n    if (this._gameType.value === '四麻') {\n      players = [\n        this._firstPlayer.value,\n        this._secondPlayer.value,\n        this._thirdPlayer.value,\n        this._fourthPlayer.value,\n      ].sort();\n      results = [\n        {\n          rank: 1,\n          player: this._firstPlayer.value,\n          score: Number(this._firstScore.value),\n          point: Number(this._firstPoint.value),\n        },\n        {\n          rank: 2,\n          player: this._secondPlayer.value,\n          score: Number(this._secondScore.value),\n          point: Number(this._secondPoint.value),\n        },\n        {\n          rank: 3,\n          player: this._thirdPlayer.value,\n          score: Number(this._thirdScore.value),\n          point: Number(this._thirdPoint.value),\n        },\n        {\n          rank: 4,\n          player: this._fourthPlayer.value,\n          score: Number(this._fourthScore.value),\n          point: Number(this._fourthPoint.value),\n        },\n      ];\n    } else {\n      players = [\n        this._firstPlayer.value,\n        this._secondPlayer.value,\n        this._thirdPlayer.value,\n      ].sort();\n      results = [\n        {\n          rank: 1,\n          player: this._firstPlayer.value,\n          score: Number(this._firstScore.value),\n          point: Number(this._firstPoint.value),\n        },\n        {\n          rank: 2,\n          player: this._secondPlayer.value,\n          score: Number(this._secondScore.value),\n          point: Number(this._secondPoint.value),\n        },\n        {\n          rank: 3,\n          player: this._thirdPlayer.value,\n          score: Number(this._thirdScore.value),\n          point: Number(this._thirdPoint.value),\n        },\n      ];\n    }\n    if (this._chonboPlayer1.value !== '') {\n      chonbo.push({\n        player: this._chonboPlayer1.value,\n        point: Number(this._chonboPoint1.value),\n      });\n    }\n    if (this._chonboPlayer2.value !== '') {\n      chonbo.push({\n        player: this._chonboPlayer2.value,\n        point: Number(this._chonboPoint2.value),\n      });\n    }\n    if (this._chonboPlayer3.value !== '') {\n      chonbo.push({\n        player: this._chonboPlayer3.value,\n        point: Number(this._chonboPoint3.value),\n      });\n    }\n    if (this._chonboPlayer4.value !== '') {\n      chonbo.push({\n        player: this._chonboPlayer4.value,\n        point: Number(this._chonboPoint4.value),\n      });\n    }\n\n    const data = {\n      gameInfo: {\n        date: this._date.value,\n        order: this._order.value,\n        gameType: this._gameType.value,\n        players: players,\n      },\n      results: results,\n      chonbo: chonbo,\n    };\n    try {\n      const docRef = await addDoc(collection(db, 'results'), data);\n      console.log('Document written with ID: ', docRef.id);\n      this.dispatchEvent(\n        new CustomEvent('uploaded', {bubbles: true, composed: true})\n      );\n    } catch (e) {\n      console.error('Error adding document: ', e);\n    } finally {\n      this._progress.style.display = 'none';\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'mahjong-calc': MahjongCalc;\n  }\n}\n"]}