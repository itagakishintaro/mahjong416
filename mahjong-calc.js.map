{"version":3,"file":"mahjong-calc.js","sourceRoot":"","sources":["src/mahjong-calc.ts"],"names":[],"mappings":"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","sourcesContent":["import {LitElement, html, css} from 'lit';\nimport {customElement} from 'lit/decorators.js';\nimport '@material/web/textfield/outlined-text-field.js';\nimport '@material/web/select/outlined-select.js';\nimport '@material/web/select/select-option.js';\nimport '@patternfly/elements/pf-accordion/pf-accordion.js';\n\n\n@customElement('mahjong-calc')\nexport class MahjongCalc extends LitElement {\n    static override styles = [\n      css`\n        .width-50 {\n          width: calc(50% - 3em);\n          margin-bottom: 1em;\n        }\n        .results {\n          margin-top: 2em;\n          margin-left: 1em;\n        }\n      `,\n    ];\n\n  override render() {\n    return html`\n      <h1>点数計算</h1>\n\n      <md-outlined-select required id=\"gameType\" class=\"width-50\" @change=\"${this._changeGame}\">\n          <md-select-option selected value=\"四麻\">\n            <div slot=\"headline\">四麻</div>\n          </md-select-option>\n          <md-select-option value=\"三麻\">\n            <div slot=\"headline\">三麻</div>\n          </md-select-option>\n        </md-outlined-select>\n\n      <pf-accordion>\n        <pf-accordion-header>\n          <h2>設定</h2>\n        </pf-accordion-header>\n        <pf-accordion-panel>\n\n          <div>\n            <md-outlined-text-field\n              id=\"initialPoint\"\n              class=\"width-50\"\n              label=\"初期点\"\n              value=\"25000\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"oka\"\n              class=\"width-50\"\n              label=\"オカ\"\n              value=\"30000\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n          </div>\n          <div>\n            <md-outlined-text-field\n              id=\"firstUma\"\n              class=\"width-50\"\n              label=\"1着\"\n              value=\"50\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"secondUma\"\n              class=\"width-50\"\n              label=\"2着\"\n              value=\"10\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"thirdUma\"\n              class=\"width-50\"\n              label=\"3着\"\n              value=\"-10\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n            <md-outlined-text-field\n              id=\"fourthUma\"\n              class=\"width-50\"\n              label=\"4着\"\n              value=\"-30\"\n              type=\"number\"\n              required\n            ></md-outlined-text-field>\n          </div>\n        </pf-accordion-panel>\n      </pf-accordion>\n      <div class=\"results\">\n        <h2>結果</h2>\n        <div>\n          <label for=\"firstResult\">1位</label>\n          <md-outlined-text-field id=\"firstResult\" class=\"width-50\" type=\"number\" @blur=\"${this._calcFirstScore}\">\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field id=\"firstScore\" class=\"width-50\" type=\"number\" disabled>\n          </md-outlined-text-field>\n        </div>\n        <div>\n          <label for=\"secondResult\">2位</label>\n          <md-outlined-text-field id=\"secondResult\" class=\"width-50\" type=\"number\" @blur=\"${this._calcSecondScore}\">\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field id=\"secondScore\" class=\"width-50\" disabled>\n          </md-outlined-text-field>\n        </div>\n        <div>\n          <label for=\"thirdResult\">3位</label>\n          <md-outlined-text-field id=\"thirdResult\" class=\"width-50\" type=\"number\" @blur=\"${this._calcThirdScore}\">\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field id=\"thirdScore\" class=\"width-50\" disabled>\n          </md-outlined-text-field>\n        </div>\n        <div>\n          <label for=\"fourthResult\">4位</label>\n          <md-outlined-text-field id=\"fourthResult\" class=\"width-50\" type=\"number\" @blur=\"${this._calcFourthScore}\">\n          </md-outlined-text-field>\n          <span>→</span>\n          <md-outlined-text-field id=\"fourthScore\" class=\"width-50\" disabled>\n          </md-outlined-text-field>\n        </div>\n      </div>\n    `;\n  }\n\n  private _calcFirstScore() {\n    const oka = this.shadowRoot?.getElementById('oka') as HTMLInputElement;\n    const firstUma = this.shadowRoot?.getElementById('firstUma') as HTMLInputElement;\n    const firstResult = this.shadowRoot?.getElementById('firstResult') as HTMLInputElement;\n    const score = (Number(firstResult?.value) - Number(oka?.value))/1000 + Number(firstUma?.value);\n    const firstScore = this.shadowRoot?.getElementById('firstScore') as HTMLInputElement;\n    firstScore.value = String(score);\n  }\n\n  private _calcSecondScore() {\n    const oka = this.shadowRoot?.getElementById('oka') as HTMLInputElement;\n    const secondUma = this.shadowRoot?.getElementById('secondUma') as HTMLInputElement;\n    const secondResult = this.shadowRoot?.getElementById('secondResult') as HTMLInputElement;\n    const score = (Number(secondResult?.value) - Number(oka?.value))/1000 + Number(secondUma?.value);\n    const secondScore = this.shadowRoot?.getElementById('secondScore') as HTMLInputElement;\n    secondScore.value = String(score);\n  }\n\n  private _calcThirdScore() {\n    const oka = this.shadowRoot?.getElementById('oka') as HTMLInputElement;\n    const thirdUma = this.shadowRoot?.getElementById('thirdUma') as HTMLInputElement;\n    const thirdResult = this.shadowRoot?.getElementById('thirdResult') as HTMLInputElement;\n    const score = (Number(thirdResult?.value) - Number(oka?.value))/1000 + Number(thirdUma?.value);\n    const thirdScore = this.shadowRoot?.getElementById('thirdScore') as HTMLInputElement;\n    thirdScore.value = String(score);\n  }\n\n  private _calcFourthScore() {\n    const oka = this.shadowRoot?.getElementById('oka') as HTMLInputElement;\n    const fourthUma = this.shadowRoot?.getElementById('fourthUma') as HTMLInputElement;\n    const fourthResult = this.shadowRoot?.getElementById('fourthResult') as HTMLInputElement;\n    const score = (Number(fourthResult?.value) - Number(oka?.value))/1000 + Number(fourthUma?.value);\n    const fourthScore = this.shadowRoot?.getElementById('fourthScore') as HTMLInputElement;\n    fourthScore.value = String(score);\n  }\n\n  private _changeGame() {\n    const game = this.shadowRoot?.getElementById('gameType') as HTMLSelectElement;\n    if (game.value === '三麻') {\n      this._changeSettings('35000', '40000', '15', '0', '-15', '0', true);\n    } else {\n      this._changeSettings('25000', '30000', '50', '10', '-10', '-30', false);\n    }\n\n  }\n\n  private _changeSettings(initialPoint: string, oka: string, firstUma: string, secondUma: string, thirdUma: string, fourthUma: string, existsFourth: boolean) {\n    const initialPointElement = this.shadowRoot?.getElementById('initialPoint') as HTMLInputElement;\n    initialPointElement.value = initialPoint;\n    const okaElement = this.shadowRoot?.getElementById('oka') as HTMLInputElement;\n    okaElement.value = oka;\n    const firstUmaElement = this.shadowRoot?.getElementById('firstUma') as HTMLInputElement;\n    firstUmaElement.value = firstUma;\n    const secondUmaElement = this.shadowRoot?.getElementById('secondUma') as HTMLInputElement;\n    secondUmaElement.value = secondUma;\n    const thirdUmaElement = this.shadowRoot?.getElementById('thirdUma') as HTMLInputElement;\n    thirdUmaElement.value = thirdUma;\n    const fourthUmaElement = this.shadowRoot?.getElementById('fourthUma') as HTMLInputElement;\n    fourthUmaElement.value = fourthUma;\n    fourthUmaElement.disabled = existsFourth;\n    const fourthResult = this.shadowRoot?.getElementById('fourthResult') as HTMLInputElement;\n    fourthResult.value = '';\n    fourthResult.disabled = existsFourth;\n  }\n\n\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'mahjong-calc': MahjongCalc;\n  }\n}\n"]}